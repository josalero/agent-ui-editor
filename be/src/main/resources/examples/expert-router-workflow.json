{
  "name": "Expert router workflow",
  "entryNodeId": "seq-route",
  "nodes": [
    {
      "id": "llm-router",
      "type": "llm",
      "baseUrl": "https://openrouter.ai/api/v1",
      "modelName": "openai/gpt-4o-mini",
      "temperature": 0.1,
      "maxTokens": 120
    },
    {
      "id": "llm-general",
      "type": "llm",
      "baseUrl": "https://openrouter.ai/api/v1",
      "modelName": "openai/gpt-4o-mini",
      "temperature": 0.35,
      "maxTokens": 500
    },
    {
      "id": "llm-creative",
      "type": "llm",
      "baseUrl": "https://openrouter.ai/api/v1",
      "modelName": "openai/gpt-4o-mini",
      "temperature": 0.95,
      "maxTokens": 700
    },
    {
      "id": "llm-planning",
      "type": "llm",
      "baseUrl": "https://openrouter.ai/api/v1",
      "modelName": "openai/gpt-4o-mini",
      "temperature": 0.25,
      "maxTokens": 650
    },
    {
      "id": "router",
      "type": "agent",
      "llmId": "llm-router",
      "name": "CategoryRouter",
      "role": "Intent router",
      "systemMessage": "Output only one category token: GENERAL, CREATIVE, or PLANNING.",
      "promptTemplate": "Classify this request: {{metadata.prompt}}",
      "outputKey": "category"
    },
    {
      "id": "general",
      "type": "agent",
      "llmId": "llm-general",
      "name": "GeneralExpert",
      "role": "General assistant",
      "promptTemplate": "Answer clearly: {{metadata.prompt}}",
      "outputKey": "response",
      "tools": [
        {"id": "time", "description": "Current date and time in UTC (ISO-8601)"},
        {"id": "calculator", "description": "Evaluate arithmetic expressions (e.g. 2 + 3 * 4)"}
      ]
    },
    {
      "id": "creative",
      "type": "agent",
      "llmId": "llm-creative",
      "name": "CreativeExpert",
      "role": "Creative specialist",
      "promptTemplate": "Respond creatively to: {{metadata.prompt}}",
      "outputKey": "response"
    },
    {
      "id": "planning",
      "type": "agent",
      "llmId": "llm-planning",
      "name": "PlanningExpert",
      "role": "Planning specialist",
      "promptTemplate": "Create a practical plan for: {{metadata.prompt}}",
      "outputKey": "response"
    },
    {
      "id": "cond",
      "type": "conditional",
      "routerAgentId": "router",
      "branches": [
        { "conditionKey": "category", "value": "GENERAL", "agentId": "general" },
        { "conditionKey": "category", "value": "CREATIVE", "agentId": "creative" },
        { "conditionKey": "category", "value": "PLANNING", "agentId": "planning" }
      ]
    },
    {
      "id": "seq-route",
      "type": "sequence",
      "subAgentIds": ["router", "cond"],
      "outputKey": "response"
    }
  ]
}
